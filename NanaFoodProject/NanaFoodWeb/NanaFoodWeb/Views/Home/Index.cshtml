@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success">
        @TempData["SuccessMessage"]
    </div>
}

@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger">
        @TempData["ErrorMessage"]
    </div>
}
@{
    var currentPage = ViewData["currentPage"] as int? ?? 1;
    var totalPages = ViewData["totalPages"] as int? ?? 1;
}
<style>
    .card-title {
        overflow: hidden; /* Ẩn phần văn bản tràn ra */
        text-overflow: ellipsis; /* Thêm dấu chấm lửng (...) */
        white-space: nowrap; /* Không xuống dòng */
        -webkit-box-orient: vertical;
    }
</style>
@using Syncfusion.EJ2
@model NanaFoodWeb.Models.Dto.ViewModels.ProductVM
<section class="slider_section">
    <div id="carouselExampleControlsNoTouching" class="carousel slide" data-bs-touch="false"
         data-bs-interval="false">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="/images/banner1.png" class="d-block w-100" alt="First slide">
            </div>
            <div class="carousel-item">
                <img src="/images/banner2.png" class="d-block w-100" alt="Two slide">
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControlsNoTouching"
                data-bs-slide="prev">
            <span class="carousel" aria-hidden="true"></span>
            <span class="visually-hidden"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControlsNoTouching"
                data-bs-slide="next">
            <span class="carousel" aria-hidden="true"></span>
            <span class="visually-hidden"></span>
        </button>
    </div>
</section>
<div class="container-fluid featurs py-3">
    <div class="container">
        <div class="row g-4">
            <div class="col-md-6 col-lg-3">
                <div class="featurs-item text-center rounded bg-light p-4">
                    <div class="featurs-icon btn-square rounded-circle bg-secondary mb-5 mx-auto">
                        <i class="fas fa-car-side fa-3x text-white"></i>
                    </div>
                    <div class="featurs-content text-center">
                        <h5>Giao Hàng miễn phí</h5>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="featurs-item text-center rounded bg-light p-4">
                    <div class="featurs-icon btn-square rounded-circle bg-secondary mb-5 mx-auto">
                        <i class="fas fa-user-shield fa-3x text-white"></i>
                    </div>
                    <div class="featurs-content text-center">
                        <h5>Thanh Toán</h5>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="featurs-item text-center rounded bg-light p-4">
                    <div class="featurs-icon btn-square rounded-circle bg-secondary mb-5 mx-auto">
                        <i class="fas fa-exchange-alt fa-3x text-white"></i>
                    </div>
                    <div class="featurs-content text-center">
                        <h5>Hoàn Tiền 6 Giờ</h5>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="featurs-item text-center rounded bg-light p-4">
                    <div class="featurs-icon btn-square rounded-circle bg-secondary mb-5 mx-auto">
                        <i class="fa fa-phone-alt fa-3x text-white"></i>
                    </div>
                    <div class="featurs-content text-center">
                        <h5>Hỗ Trợ 24/7</h5>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Featurs Section End -->

<!-- Fruits Shop Start-->
<div class="container-fluid fruite">
    <div class="container">
        <div class="row g-4">
            <div class="col-lg-12">
                <div class="row g-4">
                    <h3 class="text-center fw-bold">Sản phẩm tìm kiếm hàng đầu</h3>
                    <div class="owl-carousel owl-theme">

                        @if (Model?.Products != null && Model.Products.Any(e => e.IsActive && (e.CategoryId == 37 || e.CategoryId == 38 || e.CategoryId == 54)))
                        {
                            @foreach (var item in Model.Products.Where(e => e.IsActive && (e.CategoryId == 37 || e.CategoryId == 38 || e.CategoryId == 47)))
                            {
                                <div class="item">
                                    <div class="card mb-3 shadow">
                                        <a asp-controller="Products" asp-action="CDetails" asp-route-id="@item.ProductId">
                                            <img src="@item.ImageUrl" width="100%" height="100%" />
                                        </a>
                                        <div class="card-body">
                                            <a asp-controller="Products" asp-action="CDetails" asp-route-id="@item.ProductId" class="text-decoration-none">
                                                <h5 class="card-title text-dark fw-bold">@item.ProductName</h5>
                                            </a>
                                        </div>
                                        <div class="card-footer">
                                            <div class="d-flex justify-content-between align-items-center">
                                                <p class="text-dark fs-5 fw-bold" style="position: relative; left: 3px; top: 8px;">@item.Price.ToString("#,##")đ</p>
                                                <a asp-controller="Products" asp-action="CDetails" asp-route-id="@item.ProductId" class="btn btn-sm btn-warning rounded-2">Xem chi tiết</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        }
                        else
                        {
                            <p class="text-center text-muted">Không có sản phẩm nào để hiển thị.</p>
                        }
                    </div>
                </div>
                <div class="row g-4 my-3">
                    <h3 class="text-center fw-bold">Sản phẩm bán chạy nhất</h3>
                    <div class="owl-carousel owl-theme">
                        @if (Model?.Products != null && Model.Products.Any(e => e.IsActive && (e.CategoryId == 48 || e.CategoryId == 49 || e.CategoryId == 50)))
                        {
                            @foreach (var item in Model.Products.Where(e => e.IsActive && (e.CategoryId == 48 || e.CategoryId == 49 || e.CategoryId == 50)))
                            {
                                <div class="item">
                                    <div class="card mb-3 shadow">
                                        <a asp-controller="Products" asp-action="CDetails" asp-route-id="@item.ProductId">
                                            <img src="@item.ImageUrl" width="100%" height="100%" />
                                        </a>
                                        <div class="card-body">
                                            <a asp-controller="Products" asp-action="CDetails" asp-route-id="@item.ProductId" class="text-decoration-none">
                                                <h5 class="card-title text-dark fw-bold">@item.ProductName</h5>
                                            </a>
                                        </div>
                                        <div class="card-footer">
                                            <div class="d-flex justify-content-between align-items-center">
                                                <p class="text-dark fs-5 fw-bold" style="position: relative; left: 3px; top: 8px;">@item.Price.ToString("#,##")đ</p>
                                                <a asp-controller="Products" asp-action="CDetails" asp-route-id="@item.ProductId" class="btn btn-sm btn-warning rounded-2">Xem chi tiết</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        }
                        else
                        {
                            <p class="text-center text-muted">Không có sản phẩm nào để hiển thị.</p>
                        }
                    </div>
                </div>
                <div class="row g-4 my-3">
                    <h3 class="text-center fw-bold">Sản phẩm đang giảm giá </h3>
                    <div class="owl-carousel owl-theme">
                        @if (Model?.Products != null && Model.Products.Any(e => e.IsActive && (e.CategoryId == 51 || e.CategoryId == 52 || e.CategoryId == 52)))
                        {
                            @foreach (var item in Model.Products.Where(e => e.IsActive && (e.CategoryId == 51 || e.CategoryId == 52 || e.CategoryId == 52)))
                            {
                                <div class="item">
                                    <div class="card mb-3 shadow">
                                        <a asp-controller="Products" asp-action="CDetails" asp-route-id="@item.ProductId">
                                            <img src="@item.ImageUrl" width="100%" height="100%" />
                                        </a>
                                        <div class="card-body">
                                            <a asp-controller="Products" asp-action="CDetails" asp-route-id="@item.ProductId" class="text-decoration-none">
                                                <h5 class="card-title text-dark fw-bold">@item.ProductName</h5>
                                            </a>
                                        </div>
                                        <div class="card-footer">
                                            <div class="d-flex justify-content-between align-items-center">
                                                <p class="text-dark fs-5 fw-bold" style="position: relative; left: 3px; top: 8px;">@item.Price.ToString("#,##")đ</p>
                                                <a asp-controller="Products" asp-action="CDetails" asp-route-id="@item.ProductId" class="btn btn-sm btn-warning rounded-2">Xem chi tiết</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        }
                        else
                        {
                            <p class="text-center text-muted">Không có sản phẩm nào để hiển thị.</p>
                        }
                    </div>
                </div>
                <div class="d-flex justify-content-center">
                    <a asp-action="Menu" asp-controller="Home"
                       class="btn btn-outline-warning fs-4">
                        Xem Menu
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Fruits Shop End-->
<!-- Banner Section Start-->
<div class="container-fluid banner bg-secondary my-5">
    <div class="container py-5">
        <div class="row g-4 align-items-center">
            <div class="col-lg-6">
                <div class="py-4">
                    <h1 class="display-3 text-white">Combo Đại Tiệc</h1>
                    <p class="fw-normal display-3 text-dark mb-4">Hãy Đặt Hàng Ngay</p>
                    <p class="mb-4 text-dark">Gồm 7 Miếng gà rán + 1 Burger gà + 1 Bánh cuộn gà + 1 Bắp cải trộn + 1 Nước ngọt</p>
                    <a href="#" class="banner-btn btn border-2 border-white rounded-pill text-dark py-3 px-5">Mua Ngay</a>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="position-relative">
                    <img src="images/daitiec.png" class="img-fluid w-100 rounded" alt="">
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Banner Section End -->
<!-- Bestsaler Product Start -->
<div class="container-fluid py-5">
    <div class="container py-5">
        <div class="text-center mx-auto mb-5" style="max-width: 700px;">
            <h1 class="display-4">bét seo lơ</h1>
            <p>Các món ăn bán chạy nhất cửa hàng</p>
        </div>
        <div class="row g-4">
            <div class="col-lg-6 col-xl-4">
                <div class="p-4 rounded bg-light">
                    <div class="row align-items-center">
                        <div class="col-6">
                            <img src="images/burger.jpg" class="img-fluid rounded-circle w-100" alt="">
                        </div>
                        <div class="col-6">
                            <a href="#" class="h5">Hamburger cá</a>
                            <div class="d-flex my-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <h4 class="mb-3">40,000VND</h4>
                            <a href="#" class="btn border border-secondary rounded-pill px-3 text-warning"><i class="fa fa-shopping-bag me-2 text-warning"></i>Giỏ hàng</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-xl-4">
                <div class="p-4 rounded bg-light">
                    <div class="row align-items-center">
                        <div class="col-6">
                            <img src="images/burger.jpg" class="img-fluid rounded-circle w-100" alt="">
                        </div>
                        <div class="col-6">
                            <a href="#" class="h5">Hamburger cá</a>
                            <div class="d-flex my-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <h4 class="mb-3">40,000VND</h4>
                            <a href="#" class="btn border border-secondary rounded-pill px-3 text-warning"><i class="fa fa-shopping-bag me-2 text-warning"></i>Giỏ hàng</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-xl-4">
                <div class="p-4 rounded bg-light">
                    <div class="row align-items-center">
                        <div class="col-6">
                            <img src="images/burger.jpg" class="img-fluid rounded-circle w-100" alt="">
                        </div>
                        <div class="col-6">
                            <a href="#" class="h5">Hamburger cá</a>
                            <div class="d-flex my-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <h4 class="mb-3">40,000VND</h4>
                            <a href="#" class="btn border border-secondary rounded-pill px-3 text-warning"><i class="fa fa-shopping-bag me-2 text-warning"></i>Giỏ hàng</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-xl-4">
                <div class="p-4 rounded bg-light">
                    <div class="row align-items-center">
                        <div class="col-6">
                            <img src="images/burger.jpg" class="img-fluid rounded-circle w-100" alt="">
                        </div>
                        <div class="col-6">
                            <a href="#" class="h5">Hamburger cá</a>
                            <div class="d-flex my-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <h4 class="mb-3">40,000VND</h4>
                            <a href="#" class="btn border border-secondary rounded-pill px-3 text-warning"><i class="fa fa-shopping-bag me-2 text-warning"></i>Giỏ hàng</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-xl-4">
                <div class="p-4 rounded bg-light">
                    <div class="row align-items-center">
                        <div class="col-6">
                            <img src="images/burger.jpg" class="img-fluid rounded-circle w-100" alt="">
                        </div>
                        <div class="col-6">
                            <a href="#" class="h5">Hamburger cá</a>
                            <div class="d-flex my-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <h4 class="mb-3">40,000VND</h4>
                            <a href="#" class="btn border border-secondary rounded-pill px-3 text-warning"><i class="fa fa-shopping-bag me-2 text-warning"></i>Giỏ hàng</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-xl-4">
                <div class="p-4 rounded bg-light">
                    <div class="row align-items-center">
                        <div class="col-6">
                            <img src="images/burger.jpg" class="img-fluid rounded-circle w-100" alt="">
                        </div>
                        <div class="col-6">
                            <a href="#" class="h5">Hamburger cá</a>
                            <div class="d-flex my-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <h4 class="mb-3">40,000VND</h4>
                            <a href="#" class="btn border border-secondary rounded-pill px-3 text-warning"><i class="fa fa-shopping-bag me-2 text-warning"></i>Giỏ hàng</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Bestsaler Product End -->
<!-- Tastimonial Start -->
<div class="container-fluid testimonial py-5">
    <div class="container py-5">
        <div class="testimonial-header text-center">
            <h1 class="text-dark">Phản hồi</h1>
            <h1 class="display-5 mb-5 text-dark">Từ khách hàng</h1>
        </div>
        <div class="owl-carousel testimonial-carousel">
            <div class="testimonial-item img-border-radius bg-light rounded p-4">
                <div class="position-relative">
                    <i class="fa fa-quote-right fa-2x text-warning position-absolute" style="bottom: 30px; right: 0;"></i>
                    <div class="mb-4 pb-4 border-bottom border-secondary">
                        <p class="mb-0">Bánh ăn vừa mồm</p>
                    </div>
                    <div class="d-flex align-items-center flex-nowrap">
                        <div class="bg-secondary rounded">
                            <img src="images/User.jpg" class="img-fluid rounded" style="width: 100px; height: 100px;" alt="">
                        </div>
                        <div class="ms-4 d-block">
                            <h4 class="text-dark">Hoàng</h4>
                            <p class="m-0 pb-3">Đánh Giá</p>
                            <div class="d-flex pe-5">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="testimonial-item img-border-radius bg-light rounded p-4">
                <div class="position-relative">
                    <i class="fa fa-quote-right fa-2x text-secondary position-absolute" style="bottom: 30px; right: 0;"></i>
                    <div class="mb-4 pb-4 border-bottom border-secondary">
                        <p class="mb-0">
                            Quán ăn phù hợp hs & sv
                        </p>
                    </div>
                    <div class="d-flex align-items-center flex-nowrap">
                        <div class="bg-secondary rounded">
                            <img src="/images/User.jpg" class="img-fluid rounded" style="width: 100px; height: 100px;" alt="">
                        </div>
                        <div class="ms-4 d-block">
                            <h4 class="text-dark">Hoàng</h4>
                            <p class="m-0 pb-3">Profession</p>
                            <div class="d-flex pe-5">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="testimonial-item img-border-radius bg-light rounded p-4">
                <div class="position-relative">
                    <i class="fa fa-quote-right fa-2x text-secondary position-absolute" style="bottom: 30px; right: 0;"></i>
                    <div class="mb-4 pb-4 border-bottom border-secondary">
                        <p class="mb-0">
                            Gà quá đã cắn cái hết mọe luôn
                        </p>
                    </div>
                    <div class="d-flex align-items-center flex-nowrap">
                        <div class="bg-secondary rounded">
                            <img src="/images/User.jpg" class="img-fluid rounded" style="width: 100px; height: 100px;" alt="">
                        </div>
                        <div class="ms-4 d-block">
                            <h4 class="text-dark">Hoàng</h4>
                            <p class="m-0 pb-3">Đánh giá</p>
                            <div class="d-flex pe-5">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Tastimonial End -->

@section Scripts{
    
    <script>
        $('.owl-carousel').owlCarousel({
            loop: true,
            margin: 30, 
            responsiveClass: true,
            autoplay: true,
            autoplayTimeout: 3000,
            autoplayHoverPause: true,
            nav: false, 
            responsive: {
                0: {
                    items: 1,
                    margin: 20, 
                },
                600: {
                    items: 2,
                    margin: 30, 
                },
                1000: {
                    items: 4,
                    margin: 40, 
                }
            }
        });
    </script>
}